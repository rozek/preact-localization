!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("dlv"),require("preact")):"function"==typeof define&&define.amd?define(["exports","dlv","preact"],n):n(r.preactLocalization={},r.dlv,r.preact)}(this,function(r,n,e){n=n&&n.hasOwnProperty("default")?n.default:n;var t=e.createContext();function a(r,e,t,a,i){void 0===i&&(i=null);var o=e&&r&&n(e,r);return(a||0===a)&&o&&"object"==typeof o&&(o=0===a?o.none:1===a?o.one:o.many),o&&function r(e,t){return e&&e.replace(/\{\{([\w.-]+)\}\}/g,function(e,a){var i=n(t,a);return null==i?"":("string"==typeof i&&i.match(/\{\{/)&&(i=r(i,t)),i)})}(o,t)||i}var i=function(r){var n=r.id,i=r.children,o=r.plural,u=r.fields;return e.h(t.Consumer,null,function(r){return a(n,r,u,o,i)})};function o(r){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return r.replace(/[&<>"']/g,function(r){return n[r]})}var u=function(r){var n=r.children;return e.h(t.Consumer,null,function(r){return e.toChildArray(n).map(function(n){return e.cloneElement(n,function(r,n){var e={};for(var t in r)if(r.hasOwnProperty(t)&&r[t]){var o=r[t];if(o.type===i){var u=o.props;e[t]=a(u.id,n,u.fields,u.plural,u.children)}}return e}(n.props,r))})})};function l(r,n){var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&-1===n.indexOf(t)&&(e[t]=r[t]);return e}function c(r){var n=r.as,t=r.text,a=l(r,["as","text"]);if(!t)return t;var i=n||"span";return"string"==typeof t?e.h(i,Object.assign({},a,{dangerouslySetInnerHTML:{__html:t.replace(/\n/g,"<br/>")}})):e.h(i,null,t)}r.IntlProvider=function(r){return e.h(t.Provider,{value:r.dictionary},r.children)},r.Text=i,r.MarkupText=function(r){var n=r.as,t=r.class,a=r.fields,f=l(r,["as","class","fields"]);for(var s in a)a[s]=o(new String(a[s]));return e.h(u,null,e.h(c,{as:n,class:t,text:e.h(i,Object.assign({},f,{fields:a}))}))},r.Localizer=u});
//# sourceMappingURL=preact-localization.umd.js.map

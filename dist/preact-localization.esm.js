import r from"dlv";import{h as n,createContext as t,cloneElement as e,toChildArray as a}from"preact";var i=t(),u=function(r){return n(i.Provider,{value:r.dictionary},r.children)};function o(n,t,e,a,i){void 0===i&&(i=null);var u=t&&n&&r(t,n);return(a||0===a)&&u&&"object"==typeof u&&(u=0===a?u.none:1===a?u.one:u.many),u&&function n(t,e){return t&&t.replace(/\{\{([\w.-]+)\}\}/g,function(t,a){var i=r(e,a);return null==i?"":("string"==typeof i&&i.match(/\{\{/)&&(i=n(i,e)),i)})}(u,e)||i}var l=function(r){var t=r.id,e=r.children,a=r.plural,u=r.fields;return n(i.Consumer,null,function(r){return o(t,r,u,a,e)})};function c(r){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return r.replace(/[&<>"']/g,function(r){return n[r]})}var f=function(r){var t=r.children;return n(i.Consumer,null,function(r){return a(t).map(function(n){return e(n,function(r,n){var t={};for(var e in r)if(r.hasOwnProperty(e)&&r[e]){var a=r[e];if(a.type===l){var i=a.props;t[e]=o(i.id,n,i.fields,i.plural,i.children)}}return t}(n.props,r))})})};function s(r,n){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&-1===n.indexOf(e)&&(t[e]=r[e]);return t}function p(r){var t=r.as,e=r.text,a=s(r,["as","text"]);if(!e)return e;var i=t||"span";return"string"==typeof e?n(i,Object.assign({},a,{dangerouslySetInnerHTML:{__html:e.replace(/\n/g,"<br/>")}})):n(i,null,e)}function v(r){var t=r.as,e=r.class,a=r.fields,i=s(r,["as","class","fields"]);for(var u in a)a[u]=c(new String(a[u]));return n(f,null,n(p,{as:t,class:e,text:n(l,Object.assign({},i,{fields:a}))}))}export{u as IntlProvider,l as Text,v as MarkupText,f as Localizer};
//# sourceMappingURL=preact-localization.esm.js.map
